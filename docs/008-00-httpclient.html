<!DOCTYPE html SYSTEM "about:legacy-compat">
<html lang="en-US" data-preset="contrast" data-primary-color="#307FFF"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="UTF-8"><meta name="robots" content="noindex"><meta name="built-on" content="2025-08-16T16:38:33.226358"><title>Module 8 : L'essentiel - Communication avec le Backend : HttpClient et RxJS | Angular</title><script type="application/json" id="virtual-toc-data">[{"id":"objectifs-p-dagogiques","level":0,"title":"Objectifs pédagogiques","anchor":"#objectifs-p-dagogiques"},{"id":"introduction-le-dialogue-entre-le-client-et-le-serveur","level":0,"title":"Introduction : Le dialogue entre le Client et le Serveur","anchor":"#introduction-le-dialogue-entre-le-client-et-le-serveur"},{"id":"1-mise-en-place-de-httpclient","level":0,"title":"1. Mise en Place de HttpClient","anchor":"#1-mise-en-place-de-httpclient"},{"id":"2-rxjs-et-le-concept-d-observable","level":0,"title":"2. RxJS et le concept d\u0027Observable","anchor":"#2-rxjs-et-le-concept-d-observable"},{"id":"3-effectuer-des-appels-http","level":0,"title":"3. Effectuer des Appels HTTP","anchor":"#3-effectuer-des-appels-http"},{"id":"4-s-abonner-subscribe-pour-recevoir-la-r-ponse","level":0,"title":"4. S\u0027abonner (.subscribe()) pour recevoir la réponse","anchor":"#4-s-abonner-subscribe-pour-recevoir-la-r-ponse"},{"id":"exercice-pratique","level":0,"title":"Exercice pratique","anchor":"#exercice-pratique"},{"id":"auto-valuation","level":0,"title":"Auto-évaluation","anchor":"#auto-valuation"},{"id":"conclusion-de-cette-partie","level":0,"title":"Conclusion de cette partie","anchor":"#conclusion-de-cette-partie"}]</script><script type="application/json" id="topic-shortcuts"></script><link href="https://resources.jetbrains.com/writerside/apidoc/6.22.0-b776/app.css" rel="stylesheet"><meta name="msapplication-TileColor" content="#000000"><link rel="apple-touch-icon" sizes="180x180" href="https://jetbrains.com/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="https://jetbrains.com/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="https://jetbrains.com/favicon-16x16.png"><meta name="msapplication-TileImage" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-144x144.png"><meta name="msapplication-square70x70logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-70x70.png"><meta name="msapplication-square150x150logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-150x150.png"><meta name="msapplication-wide310x150logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-310x150.png"><meta name="msapplication-square310x310logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-310x310.png"><meta name="image" content=""><!-- Open Graph --><meta property="og:title" content="Module 8 : L'essentiel - Communication avec le Backend : HttpClient et RxJS | Angular"><meta property="og:description" content=""><meta property="og:image" content=""><meta property="og:site_name" content="Angular Help"><meta property="og:type" content="website"><meta property="og:locale" content="en_US"><meta property="og:url" content="writerside-documentation/008-00-httpclient.html"><!-- End Open Graph --><!-- Twitter Card --><meta name="twitter:card" content="summary_large_image"><meta name="twitter:site" content=""><meta name="twitter:title" content="Module 8 : L'essentiel - Communication avec le Backend : HttpClient et RxJS | Angular"><meta name="twitter:description" content=""><meta name="twitter:creator" content=""><meta name="twitter:image:src" content=""><!-- End Twitter Card --><!-- Schema.org WebPage --><script type="application/ld+json">{
    "@context": "http://schema.org",
    "@type": "WebPage",
    "@id": "writerside-documentation/008-00-httpclient.html#webpage",
    "url": "writerside-documentation/008-00-httpclient.html",
    "name": "Module 8 : L'essentiel - Communication avec le Backend : HttpClient et RxJS | Angular",
    "description": "",
    "image": "",
    "inLanguage":"en-US"
}</script><!-- End Schema.org --><!-- Schema.org WebSite --><script type="application/ld+json">{
    "@type": "WebSite",
    "@id": "writerside-documentation/#website",
    "url": "writerside-documentation/",
    "name": "Angular Help"
}</script><!-- End Schema.org --></head><body data-id="008-00-httpclient" data-main-title="Module 8 : L'essentiel - Communication avec le Backend : HttpClient et RxJS" data-article-props="{&quot;seeAlsoStyle&quot;:&quot;links&quot;}" data-template="article" data-breadcrumbs=""><div class="wrapper"><main class="panel _main"><header class="panel__header"><div class="container"><h3>Angular  Help</h3><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 data-toc="008-00-httpclient" id="008-00-httpclient.md">Module 8 : L'essentiel - Communication avec le Backend : HttpClient et RxJS</h1><section class="chapter"><h2 id="objectifs-p-dagogiques" data-toc="objectifs-p-dagogiques">Objectifs p&eacute;dagogiques</h2><p id="-dhawba_12">&Agrave; la fin de ce chapitre, vous serez capable de :</p><ul class="list _bullet" id="-dhawba_13"><li class="list__item" id="-dhawba_14"><p id="-dhawba_19"><span class="control" id="-dhawba_20">Configurer</span> votre application pour utiliser le <code class="code" id="-dhawba_21">HttpClient</code> d'Angular.</p></li><li class="list__item" id="-dhawba_15"><p id="-dhawba_22"><span class="control" id="-dhawba_23">Comprendre</span> le concept fondamental d'un <code class="code" id="-dhawba_24">Observable</code> de RxJS comme un flux de donn&eacute;es dans le temps.</p></li><li class="list__item" id="-dhawba_16"><p id="-dhawba_25"><span class="control" id="-dhawba_26">Distinguer</span> un <code class="code" id="-dhawba_27">Observable</code> d'une <code class="code" id="-dhawba_28">Promise</code> JavaScript classique.</p></li><li class="list__item" id="-dhawba_17"><p id="-dhawba_29"><span class="control" id="-dhawba_30">Effectuer</span> des appels HTTP <code class="code" id="-dhawba_31">GET</code> pour r&eacute;cup&eacute;rer des donn&eacute;es depuis une API REST.</p></li><li class="list__item" id="-dhawba_18"><p id="-dhawba_32"><span class="control" id="-dhawba_33">Vous abonner</span> &agrave; un <code class="code" id="-dhawba_34">Observable</code> avec la m&eacute;thode <code class="code" id="-dhawba_35">.subscribe()</code> pour traiter les donn&eacute;es, les erreurs et la compl&eacute;tion.</p></li></ul></section><section class="chapter"><h2 id="introduction-le-dialogue-entre-le-client-et-le-serveur" data-toc="introduction-le-dialogue-entre-le-client-et-le-serveur">Introduction : Le dialogue entre le Client et le Serveur</h2><p id="-dhawba_36">Votre application Angular est magnifique, bien structur&eacute;e, mais pour l'instant, elle vit dans une bulle. Toutes ses donn&eacute;es sont &quot;en dur&quot;, cod&eacute;es dans des services. Or, une application digne de ce nom doit interagir avec le monde ext&eacute;rieur, et plus particuli&egrave;rement avec le backend robuste que vous avez (ou que vous pourriez) d&eacute;velopper en Java avec Spring Boot.</p><p id="-dhawba_37">Comment &eacute;tablir ce dialogue ? Via le protocole <span class="control" id="-dhawba_41">HTTP</span>. Angular nous fournit un outil formidable pour cela : le <code class="code" id="-dhawba_42">HttpClient</code>. Mais ce service ne retourne pas de simples donn&eacute;es. Il retourne un <span class="control" id="-dhawba_43"><code class="code" id="-dhawba_44">Observable</code></span>.</p><p id="-dhawba_38">C'est le concept cl&eacute; de ce module. Un <code class="code" id="-dhawba_45">Observable</code> est la pierre angulaire de la programmation r&eacute;active avec la biblioth&egrave;que <span class="control" id="-dhawba_46">RxJS</span>. C'est une fa&ccedil;on de g&eacute;rer les &eacute;v&eacute;nements asynchrones (comme une r&eacute;ponse HTTP qui peut prendre du temps &agrave; arriver) de mani&egrave;re &eacute;l&eacute;gante et puissante.</p><p id="-dhawba_39"><span class="control" id="-dhawba_47">Analogie Java :</span> Pensez &agrave; un <code class="code" id="-dhawba_48">Observable</code> comme &agrave; un <code class="code" id="-dhawba_49">Stream</code> ou un <code class="code" id="-dhawba_50">CompletableFuture</code> surpuissant. Il peut &eacute;mettre z&eacute;ro, une, ou m&ecirc;me une infinit&eacute; de valeurs au fil du temps.</p><p id="-dhawba_40">Ce module vous apprendra &agrave; commander et &agrave; recevoir des donn&eacute;es de votre backend, en posant les bases de la programmation r&eacute;active qui est au c&oelig;ur d'Angular.</p></section><section class="chapter"><h2 id="1-mise-en-place-de-httpclient" data-toc="1-mise-en-place-de-httpclient">1. Mise en Place de <code class="code" id="-dhawba_54">HttpClient</code></h2><p id="-dhawba_52">Pour pouvoir utiliser le <code class="code" id="-dhawba_55">HttpClient</code>, nous devons le &quot;fournir&quot; &agrave; notre application. Avec l'approche standalone moderne, cela se fait tr&egrave;s simplement dans le fichier <code class="code" id="-dhawba_56">app.config.ts</code>.</p><section class="procedure-steps"><h3 id="setup-httpclient" data-toc="setup-httpclient">Configuration du HttpClient</h3><ol class="list _decimal"><li class="list__item" id="-dhawba_57"><p><b id="-dhawba_59">Modifier `app.config.ts` :</b></p><p id="-dhawba_60">Ouvrez le fichier <code class="code" id="-dhawba_62">src/app/app.config.ts</code> et ajoutez le fournisseur <code class="code" id="-dhawba_63">provideHttpClient()</code>.</p><div class="code-block" data-lang="ts">
// Fichier: src/app/app.config.ts
import { ApplicationConfig } from '@angular/core';
import { provideRouter } from '@angular/router';
import { provideHttpClient } from '@angular/common/http'; // 1. Importer

import { routes } from './app.routes';

export const appConfig: ApplicationConfig = {
  providers: [
    provideRouter(routes),
    provideHttpClient() // 2. Ajouter le fournisseur ici
  ]
};
</div></li><li class="list__item" id="-dhawba_58"><p><b id="-dhawba_64">C'est tout !</b></p><p id="-dhawba_65">Gr&acirc;ce &agrave; cette simple ligne, vous pouvez maintenant injecter le service <code class="code" id="-dhawba_66">HttpClient</code> dans n'importe lequel de vos services ou composants.</p></li></ol></section></section><section class="chapter"><h2 id="2-rxjs-et-le-concept-d-observable" data-toc="2-rxjs-et-le-concept-d-observable">2. RxJS et le concept d'Observable</h2><p id="-dhawba_67">Avant de faire un appel HTTP, comprenons ce qu'est un <code class="code" id="-dhawba_72">Observable</code>.</p><p id="-dhawba_68">Imaginez que vous commandez une pizza.</p><ul class="list _bullet" id="-dhawba_69"><li class="list__item" id="-dhawba_73"><p id="-dhawba_75"><span class="control" id="-dhawba_76">Approche classique (Promise) :</span> Vous passez commande. Le livreur vous fait une <span class="control" id="-dhawba_77">promesse</span>: &quot;Je vous livrerai une pizza&quot;. Vous attendez, et &agrave; un moment donn&eacute;, vous recevez <span class="control" id="-dhawba_78">une seule chose</span>: la pizza (ou un message d'erreur si la pizzeria est ferm&eacute;e). La transaction est termin&eacute;e.</p></li><li class="list__item" id="-dhawba_74"><p id="-dhawba_79"><span class="control" id="-dhawba_81">Approche r&eacute;active (Observable) :</span> Vous vous <span class="control" id="-dhawba_82">abonnez</span> &agrave; un service de livraison de repas. Ce service peut vous envoyer <span class="control" id="-dhawba_83">plusieurs choses au fil du temps</span>:</p><ol class="list _decimal" id="-dhawba_80" type="1"><li class="list__item" id="-dhawba_84"><p id="-dhawba_89">Une notification &quot;Votre commande est accept&eacute;e&quot; (<code class="code" id="-dhawba_90">next</code>).</p></li><li class="list__item" id="-dhawba_85"><p id="-dhawba_91">Une notification &quot;Le livreur est en route&quot; (<code class="code" id="-dhawba_92">next</code>).</p></li><li class="list__item" id="-dhawba_86"><p id="-dhawba_93">Une notification &quot;Le livreur est arriv&eacute; avec votre pizza&quot; (<code class="code" id="-dhawba_94">next</code>).</p></li><li class="list__item" id="-dhawba_87"><p id="-dhawba_95">Un message d'erreur si votre paiement est refus&eacute; (<code class="code" id="-dhawba_96">error</code>).</p></li><li class="list__item" id="-dhawba_88"><p id="-dhawba_97">Une notification &quot;Votre commande est termin&eacute;e&quot; (<code class="code" id="-dhawba_98">complete</code>).</p></li></ol></li></ul><p id="-dhawba_70">Un <code class="code" id="-dhawba_99">Observable</code> est ce flux de notifications. Il est &quot;paresseux&quot; : il ne fait rien tant que personne ne s'y <span class="control" id="-dhawba_100">abonne</span> (<code class="code" id="-dhawba_101">.subscribe()</code>).</p><p id="-dhawba_71">Pour un appel HTTP, l'Observable est plus simple : il n'&eacute;mettra qu' <span class="control" id="-dhawba_102">une seule valeur</span> (la r&eacute;ponse HTTP) puis se terminera (<code class="code" id="-dhawba_103">complete</code>), ou il &eacute;mettra une <span class="control" id="-dhawba_104">erreur</span>. Mais le mod&egrave;le reste le m&ecirc;me.</p></section><section class="chapter"><h2 id="3-effectuer-des-appels-http" data-toc="3-effectuer-des-appels-http">3. Effectuer des Appels HTTP</h2><p id="-dhawba_105">Modifions notre <code class="code" id="-dhawba_107">UserService</code> pour qu'il aille chercher les donn&eacute;es sur une v&eacute;ritable API REST (nous utiliserons <a href="https://jsonplaceholder.typicode.com/" id="-dhawba_108" data-external="true" rel="noopener noreferrer" target="_blank">JSONPlaceholder</a>, un excellent service d'API factice pour les tests).</p><div class="code-block" data-lang="ts">
// Fichier: src/app/shared/services/user.service.ts
import {Injectable} from '@angular/core';
import {HttpClient} from '@angular/common/http'; // 1. Importer HttpClient
import {Observable} from 'rxjs'; // 2. Importer Observable
import {User} from '../models/user.model';

@Injectable({
    providedIn: 'root'
})
export class UserService {
    private apiUrl = 'https://jsonplaceholder.typicode.com/users';

    // 3. Injecter HttpClient dans le constructeur
    constructor(private http: HttpClient) {
    }

    // 4. La méthode ne retourne plus un User[] mais un Observable&lt;User[]&gt;
    public getUsers(): Observable&lt;User[]&gt; {
        console.log(&quot;UserService: Appel de l'API pour récupérer les utilisateurs...&quot;);
        // 5. Utiliser http.get(). Le typage &lt;User[]&gt; aide TypeScript
        //    à savoir à quoi s'attendre dans la réponse.
        return this.http.get&lt;User[]&gt;(this.apiUrl);
    }
}
</div></section><section class="chapter"><h2 id="4-s-abonner-subscribe-pour-recevoir-la-r-ponse" data-toc="4-s-abonner-subscribe-pour-recevoir-la-r-ponse">4. S'abonner (<code class="code" id="-dhawba_115">.subscribe()</code>) pour recevoir la r&eacute;ponse</h2><p id="-dhawba_110">Le <code class="code" id="-dhawba_116">UserService</code> nous donne maintenant un <code class="code" id="-dhawba_117">Observable</code>. Mais rien ne se passe tant que personne ne dit &quot;je veux les donn&eacute;es&quot;. C'est le r&ocirc;le du composant de s'abonner.</p><p id="-dhawba_111">La m&eacute;thode <code class="code" id="-dhawba_118">.subscribe()</code> peut prendre jusqu'&agrave; trois fonctions en argument :</p><ul class="list _bullet" id="-dhawba_112"><li class="list__item" id="-dhawba_119"><p id="-dhawba_122"><code class="code" id="-dhawba_123">next(data)</code>: La fonction &agrave; ex&eacute;cuter quand les donn&eacute;es arrivent.</p></li><li class="list__item" id="-dhawba_120"><p id="-dhawba_124"><code class="code" id="-dhawba_125">error(err)</code>: La fonction &agrave; ex&eacute;cuter si une erreur se produit.</p></li><li class="list__item" id="-dhawba_121"><p id="-dhawba_126"><code class="code" id="-dhawba_127">complete()</code>: La fonction &agrave; ex&eacute;cuter quand le flux est termin&eacute; (optionnel).</p></li></ul><div class="code-block" data-lang="ts">
// Fichier: src/app/pages/user-list/user-list.component.ts
import {Component, OnInit} from '@angular/core';
import {UserService} from '../../shared/services/user.service';
import {User} from '../../shared/models/user.model';

@Component({ /* ... */})
export class UserListComponent implements OnInit {
    public users: User[] = [];
    public isLoading: boolean = true;
    public errorMessage: string | null = null;

    constructor(private userService: UserService) {
    }

    ngOnInit(): void {
        // On appelle la méthode du service qui retourne un Observable
        this.userService.getUsers().subscribe({
            // Cas 1: Succès ! Les données sont arrivées.
            next: (data) =&gt; {
                this.users = data;
                this.isLoading = false;
                console.log(&quot;UserListComponent: Données reçues !&quot;, data);
            },
            // Cas 2: Erreur ! L'appel a échoué.
            error: (err) =&gt; {
                this.errorMessage = &quot;Impossible de charger les utilisateurs.&quot;;
                this.isLoading = false;
                console.error(&quot;Une erreur est survenue :&quot;, err);
            },
            // Cas 3: Complétion (optionnel pour les appels HTTP)
            complete: () =&gt; {
                console.log(&quot;L'observable des utilisateurs est complété.&quot;);
            }
        });
    }
}
</div><style>.theme-dark .plantuml > svg {filter: hue-rotate(180deg) invert(0.9);}div.plantuml {overflow-x: auto;}</style><div class="plantuml"><?xml version="1.0" encoding="us-ascii" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="426px" preserveAspectRatio="none" style="width:910px;height:426px;background:#FFFFFF;" version="1.1" viewBox="0 0 910 426" width="910px" zoomAndPan="magnify"><defs/><g><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="192" x="358.25" y="28.5352">S&#233;quence d'un Appel HTTP</text><line style="stroke:#696969;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="79" x2="79" y1="73.9766" y2="251.8398"/><line style="stroke:#696969;stroke-width:1.0;stroke-dasharray:1.0,4.0;" x1="79" x2="79" y1="251.8398" y2="292.7949"/><line style="stroke:#696969;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="79" x2="79" y1="292.7949" y2="390.7266"/><line style="stroke:#696969;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="215" x2="215" y1="73.9766" y2="251.8398"/><line style="stroke:#696969;stroke-width:1.0;stroke-dasharray:1.0,4.0;" x1="215" x2="215" y1="251.8398" y2="292.7949"/><line style="stroke:#696969;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="215" x2="215" y1="292.7949" y2="390.7266"/><line style="stroke:#696969;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="419" x2="419" y1="73.9766" y2="251.8398"/><line style="stroke:#696969;stroke-width:1.0;stroke-dasharray:1.0,4.0;" x1="419" x2="419" y1="251.8398" y2="292.7949"/><line style="stroke:#696969;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="419" x2="419" y1="292.7949" y2="390.7266"/><line style="stroke:#696969;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="766.5" x2="766.5" y1="73.9766" y2="251.8398"/><line style="stroke:#696969;stroke-width:1.0;stroke-dasharray:1.0,4.0;" x1="766.5" x2="766.5" y1="251.8398" y2="292.7949"/><line style="stroke:#696969;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="766.5" x2="766.5" y1="292.7949" y2="390.7266"/><line style="stroke:#696969;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="858.5" x2="858.5" y1="73.9766" y2="251.8398"/><line style="stroke:#696969;stroke-width:1.0;stroke-dasharray:1.0,4.0;" x1="858.5" x2="858.5" y1="251.8398" y2="292.7949"/><line style="stroke:#696969;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="858.5" x2="858.5" y1="292.7949" y2="390.7266"/><rect fill="#FF6347" height="30.4883" rx="3.5" ry="3.5" style="stroke:#454645;stroke-width:1.5;" width="149" x="5" y="42.4883"/><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="135" x="12" y="63.0234">UserListComponent</text><rect fill="#FF6347" height="30.4883" rx="3.5" ry="3.5" style="stroke:#454645;stroke-width:1.5;" width="149" x="5" y="389.7266"/><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="135" x="12" y="410.2617">UserListComponent</text><rect fill="#FF6347" height="30.4883" rx="3.5" ry="3.5" style="stroke:#454645;stroke-width:1.5;" width="93" x="169" y="42.4883"/><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="79" x="176" y="63.0234">UserService</text><rect fill="#FF6347" height="30.4883" rx="3.5" ry="3.5" style="stroke:#454645;stroke-width:1.5;" width="93" x="169" y="389.7266"/><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="79" x="176" y="410.2617">UserService</text><rect fill="#FF6347" height="30.4883" rx="3.5" ry="3.5" style="stroke:#454645;stroke-width:1.5;" width="83" x="378" y="42.4883"/><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="69" x="385" y="63.0234">HttpClient</text><rect fill="#FF6347" height="30.4883" rx="3.5" ry="3.5" style="stroke:#454645;stroke-width:1.5;" width="83" x="378" y="389.7266"/><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="69" x="385" y="410.2617">HttpClient</text><rect fill="#FF6347" height="30.4883" rx="3.5" ry="3.5" style="stroke:#454645;stroke-width:1.5;" width="74" x="729.5" y="42.4883"/><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="60" x="736.5" y="63.0234">API REST</text><rect fill="#FF6347" height="30.4883" rx="3.5" ry="3.5" style="stroke:#454645;stroke-width:1.5;" width="74" x="729.5" y="389.7266"/><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="60" x="736.5" y="410.2617">API REST</text><rect fill="#FF6347" height="30.4883" rx="3.5" ry="3.5" style="stroke:#454645;stroke-width:1.5;" width="91" x="813.5" y="42.4883"/><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="77" x="820.5" y="63.0234">Observable</text><rect fill="#FF6347" height="30.4883" rx="3.5" ry="3.5" style="stroke:#454645;stroke-width:1.5;" width="91" x="813.5" y="389.7266"/><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="77" x="820.5" y="410.2617">Observable</text><polygon fill="#454645" points="203.5,101.2871,213.5,105.2871,203.5,109.2871,207.5,105.2871" style="stroke:#454645;stroke-width:1.0;"/><line style="stroke:#454645;stroke-width:1.0;" x1="79.5" x2="209.5" y1="105.2871" y2="105.2871"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="112" x="86.5" y="100.5449">appelle getUsers()</text><polygon fill="#454645" points="407.5,130.5977,417.5,134.5977,407.5,138.5977,411.5,134.5977" style="stroke:#454645;stroke-width:1.0;"/><line style="stroke:#454645;stroke-width:1.0;" x1="215.5" x2="413.5" y1="134.5977" y2="134.5977"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="180" x="222.5" y="129.8555">appelle http.get&lt;User[]&gt;(url)</text><polygon fill="#454645" points="754.5,159.9082,764.5,163.9082,754.5,167.9082,758.5,163.9082" style="stroke:#454645;stroke-width:1.0;"/><line style="stroke:#454645;stroke-width:1.0;" x1="419.5" x2="760.5" y1="163.9082" y2="163.9082"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="192" x="426.5" y="159.166">Envoie une requ&#234;te GET /users</text><path d="M149,180.4082 L149,213.4082 A3.5,3.5 0 0 0 152.5,216.9082 L410.5,216.9082 A3.5,3.5 0 0 0 414,213.4082 L414,186.9082 L404,176.9082 L152.5,176.9082 A3.5,3.5 0 0 0 149,180.4082 " fill="#7FFFD4" style="stroke:#454645;stroke-width:1.5;"/><path d="M404,176.9082 L404,185.1582 A1.75,1.75 0 0 0 405.75,186.9082 L414,186.9082 L404,176.9082 " fill="#7FFFD4" style="stroke:#454645;stroke-width:1.5;"/><text fill="#454645" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="179" x="155" y="194.4766">Http retourne un Observable</text><text fill="#454645" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="244" x="155" y="209.7871">IMM&#201;DIATEMENT. L'appel est en cours.</text><polygon fill="#454645" points="847,239.8398,857,243.8398,847,247.8398,851,243.8398" style="stroke:#454645;stroke-width:1.0;"/><line style="stroke:#454645;stroke-width:1.0;" x1="79.5" x2="853" y1="243.8398" y2="243.8398"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="150" x="86.5" y="239.0977">appelle .subscribe({ ... })</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="123" x="407.75" y="276.4746">un peu de temps passe</text><polygon fill="#454645" points="430.5,310.1055,420.5,314.1055,430.5,318.1055,426.5,314.1055" style="stroke:#454645;stroke-width:1.0;"/><line style="stroke:#454645;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="424.5" x2="765.5" y1="314.1055" y2="314.1055"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="323" x="436.5" y="309.3633">R&#233;ponse HTTP 200 OK avec le JSON des utilisateurs</text><polygon fill="#454645" points="847,339.416,857,343.416,847,347.416,851,343.416" style="stroke:#454645;stroke-width:1.0;"/><line style="stroke:#454645;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="419.5" x2="853" y1="343.416" y2="343.416"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="128" x="426.5" y="338.6738">&#201;met la valeur (next)</text><polygon fill="#454645" points="90.5,368.7266,80.5,372.7266,90.5,376.7266,86.5,372.7266" style="stroke:#454645;stroke-width:1.0;"/><line style="stroke:#454645;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="84.5" x2="858" y1="372.7266" y2="372.7266"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="204" x="96.5" y="367.9844">Ex&#233;cute la fonction `next(data)`</text><!--SRC=[PP71Jjj048Rl-nH_Sy4-uA8U4KAAg5K2X23YdgfAh9r9MMcpNhop5bB50_0ewMlunJhhXaJGqteqt_p__EDF_4WRGc_gJZjMRDWI9ijX-nJ9DOJLKNIOUayMbrLrDr7AwuvDOxpWc7mFrDsOm1VjnhUE74-W0_RL__2IkjuqD6Axx_VG9RE_iEPDAfNlWUdT3FVbiXhRKYYrjyFn-PleANHQMiBy8ax68SlLhfUmf7jW7gKg13nBv8-VvrdiRAuIarWnEKNf-jOGeYDqz1I7FqpuLbRu79EuSgtKbjQCTlrlQOoFmDp6pgL9B6fXUrrRakviFXzUlywcLJalRwi2DqVZDg3088T6faAXoAsGj3-aF2WTGXGXrg7fJ4tPRnH5WPTSgVIAiwU85O5fumEy3e4IeLGwvl7-7FV3LYoabturlfoSO74DtLCZoN2rNDoAHa1aOqtGJBBWxaOVDXfUDyIm6hssGY5pzCovEY3Zn3wG7FTvs3OnNL1ZtRg6JUlmaAQobMQTFwY_]--></g></svg></div></section><section class="chapter"><h2 id="exercice-pratique" data-toc="exercice-pratique">Exercice pratique</h2><section class="chapter"><h3 id="exercice-1-r-cup-rer-les-todos-depuis-l-api" data-toc="exercice-1-r-cup-rer-les-todos-depuis-l-api">Exercice 1 : R&eacute;cup&eacute;rer les &quot;Todos&quot; depuis l'API</h3><p id="-dhawba_130">Votre mission est de cr&eacute;er un <code class="code" id="-dhawba_132">TodoListComponent</code> qui r&eacute;cup&egrave;re et affiche une liste de t&acirc;ches depuis l'API JSONPlaceholder.</p><ol class="list _decimal" id="-dhawba_131" type="1"><li class="list__item" id="-dhawba_133"><p id="-dhawba_141">Assurez-vous que <code class="code" id="-dhawba_142">provideHttpClient()</code> est bien dans votre <code class="code" id="-dhawba_143">app.config.ts</code>.</p></li><li class="list__item" id="-dhawba_134"><p id="-dhawba_144">Cr&eacute;ez un <code class="code" id="-dhawba_145">TodoService</code> qui injecte <code class="code" id="-dhawba_146">HttpClient</code>.</p></li><li class="list__item" id="-dhawba_135"><p id="-dhawba_147">Dans <code class="code" id="-dhawba_148">TodoService</code>, cr&eacute;ez une m&eacute;thode <code class="code" id="-dhawba_149">getTodos()</code> qui fait un appel <code class="code" id="-dhawba_150">GET</code> &agrave; l'URL <code class="code" id="-dhawba_151">https://jsonplaceholder.typicode.com/todos</code> et retourne un <code class="code" id="-dhawba_152">Observable&lt;Todo[]&gt;</code>. (N'oubliez pas de cr&eacute;er une interface <code class="code" id="-dhawba_153">Todo</code> correspondante : <code class="code" id="-dhawba_154">id</code>, <code class="code" id="-dhawba_155">userId</code>, <code class="code" id="-dhawba_156">title</code>, <code class="code" id="-dhawba_157">completed</code>).</p></li><li class="list__item" id="-dhawba_136"><p id="-dhawba_158">Cr&eacute;ez un <code class="code" id="-dhawba_159">TodoListComponent</code>.</p></li><li class="list__item" id="-dhawba_137"><p id="-dhawba_160">Dans ce composant, injectez <code class="code" id="-dhawba_161">TodoService</code>.</p></li><li class="list__item" id="-dhawba_138"><p id="-dhawba_162">Dans la m&eacute;thode <code class="code" id="-dhawba_163">ngOnInit</code>, appelez <code class="code" id="-dhawba_164">todoService.getTodos()</code> et abonnez-vous &agrave; l'observable.</p></li><li class="list__item" id="-dhawba_139"><p id="-dhawba_165">Dans le callback <code class="code" id="-dhawba_166">next</code>, assignez les donn&eacute;es re&ccedil;ues &agrave; une propri&eacute;t&eacute; <code class="code" id="-dhawba_167">todos</code> du composant.</p></li><li class="list__item" id="-dhawba_140"><p id="-dhawba_168">Dans le template, utilisez <code class="code" id="-dhawba_169">@for</code> pour afficher la liste des titres des t&acirc;ches. Affichez aussi un message de chargement tant que les donn&eacute;es ne sont pas arriv&eacute;es.</p></li></ol></section><section class="chapter"><div class="collapse"><div class="collapse__title"><h3 id="correction-exercice-1" data-toc="correction-exercice-1">Correction exercice 1</h3></div><div class="collapse__content"><ol class="list _decimal" id="-dhawba_170" type="1"><li class="list__item" id="-dhawba_171"><p id="-dhawba_174"><span class="control" id="-dhawba_175"><code class="code" id="-dhawba_176">app.config.ts</code></span> est d&eacute;j&agrave; configur&eacute;.</p></li><li class="list__item" id="-dhawba_172"><p id="-dhawba_177">&amp; 3. <span class="control" id="-dhawba_179"><code class="code" id="-dhawba_180">todo.service.ts</code></span></p><div class="code-block" data-lang="ts">
// Fichier: src/app/shared/services/todo.service.ts
import { Injectable } from '@angular/core';
import { HttpClient } from '@angular/common/http';
import { Observable } from 'rxjs';

// On peut mettre cette interface dans un fichier models/todo.model.ts
export interface Todo {
  id: number;
  userId: number;
  title: string;
  completed: boolean;
}

@Injectable({
  providedIn: 'root'
})
export class TodoService {
  private apiUrl = 'https://jsonplaceholder.typicode.com/todos';

  constructor(private http: HttpClient) { }

  public getTodos(): Observable&lt;Todo[]&gt; {
    return this.http.get&lt;Todo[]&gt;(this.apiUrl);
  }
}
</div></li><li class="list__item" id="-dhawba_173"><p id="-dhawba_181">&agrave; 8. <span class="control" id="-dhawba_184"><code class="code" id="-dhawba_185">todo-list.component.ts</code> et <code class="code" id="-dhawba_186">.html</code></span></p><div class="code-block" data-lang="ts">
// Fichier: src/app/pages/todo-list/todo-list.component.ts
import { Component, OnInit } from '@angular/core';
import { TodoService, Todo } from '../../shared/services/todo.service';

@Component({
  selector: 'app-todo-list',
  templateUrl: './todo-list.component.html',
  // ...
})
export class TodoListComponent implements OnInit {
  public todos: Todo[] = [];
  public isLoading = true;

  constructor(private todoService: TodoService) {}

  ngOnInit(): void {
    this.todoService.getTodos().subscribe({
      next: (data) =&gt; {
        this.todos = data;
        this.isLoading = false;
      },
      error: (err) =&gt; {
        console.error(err);
        this.isLoading = false;
      }
    });
  }
}
</div><div class="code-block" data-lang="markup">
&lt;!-- Fichier: src/app/pages/todo-list/todo-list.component.html --&gt;
&lt;h2&gt;Liste de Tâches&lt;/h2&gt;

@if (isLoading) {
  &lt;p&gt;Chargement en cours...&lt;/p&gt;
} @else {
  &lt;ul&gt;
    @for (todo of todos; track todo.id) {
      &lt;li&gt;{{ todo.title }}&lt;/li&gt;
    }
  &lt;/ul&gt;
}
</div></li></ol></div></div></section></section><section class="chapter"><h2 id="auto-valuation" data-toc="auto-valuation">Auto-&eacute;valuation</h2><ol class="list _decimal" id="-dhawba_187" type="1"><li class="list__item" id="-dhawba_188"><p id="-dhawba_193"><span class="control" id="-dhawba_194">(Question ouverte)</span> Quelle est la diff&eacute;rence majeure entre une <code class="code" id="-dhawba_195">Promise</code> et un <code class="code" id="-dhawba_196">Observable</code> en termes de valeurs &eacute;mises ?</p></li><li class="list__item" id="-dhawba_189"><p id="-dhawba_197"><span class="control" id="-dhawba_198">(QCM)</span> Quelle fonction devez-vous appeler dans <code class="code" id="-dhawba_199">app.config.ts</code> pour pouvoir utiliser <code class="code" id="-dhawba_200">HttpClient</code>? a) <code class="code" id="-dhawba_201">importProvidersFrom(HttpClientModule)</code> b) <code class="code" id="-dhawba_202">provideHttp()</code> c) <code class="code" id="-dhawba_203">provideHttpClient()</code> d) <code class="code" id="-dhawba_204">enableHttp()</code></p></li><li class="list__item" id="-dhawba_190"><p id="-dhawba_205"><span class="control" id="-dhawba_206">(QCM)</span> Une m&eacute;thode de service fait un appel <code class="code" id="-dhawba_207">http.get()</code>. Que se passe-t-il si aucun composant n'appelle <code class="code" id="-dhawba_208">.subscribe()</code> sur l'Observable retourn&eacute; ? a) L'appel HTTP est fait, mais la r&eacute;ponse est ignor&eacute;e. b) L'appel HTTP n'est jamais fait. c) L'appel HTTP est fait et r&eacute;essay&eacute; jusqu'&agrave; ce qu'il y ait une souscription. d) Angular l&egrave;ve une erreur.</p></li><li class="list__item" id="-dhawba_191"><p id="-dhawba_209"><span class="control" id="-dhawba_210">(Question ouverte)</span> Dans un appel <code class="code" id="-dhawba_211">.subscribe()</code>, quels sont les trois &quot;canaux&quot; (ou callbacks) que vous pouvez &eacute;couter ?</p></li><li class="list__item" id="-dhawba_192"><p id="-dhawba_212"><span class="control" id="-dhawba_213">(QCM)</span> Votre m&eacute;thode <code class="code" id="-dhawba_214">getUsers()</code> retourne un <code class="code" id="-dhawba_215">Observable&lt;User[]&gt;</code>. Dans le callback <code class="code" id="-dhawba_216">next</code> de <code class="code" id="-dhawba_217">subscribe</code>, quel sera le type du param&egrave;tre <code class="code" id="-dhawba_218">data</code>? a) <code class="code" id="-dhawba_219">Observable&lt;User[]&gt;</code> b) <code class="code" id="-dhawba_220">User</code> c) <code class="code" id="-dhawba_221">User[]</code> d) <code class="code" id="-dhawba_222">any</code></p></li></ol></section><section class="chapter"><h2 id="conclusion-de-cette-partie" data-toc="conclusion-de-cette-partie">Conclusion de cette partie</h2><p id="-dhawba_223">F&eacute;licitations, vous avez franchi une &eacute;tape d&eacute;cisive ! Vous savez maintenant comment faire communiquer votre application Angular avec un backend. Vous avez d&eacute;couvert le concept fondamental d' <span class="control" id="-dhawba_226"><code class="code" id="-dhawba_228">Observable</code></span>, qui est au c&oelig;ur de la gestion de l'asynchronisme dans Angular, et vous savez comment vous y <span class="control" id="-dhawba_227">abonner</span> pour traiter les donn&eacute;es, les erreurs et la compl&eacute;tion.</p><p id="-dhawba_224">Vous avez mis en pratique le cycle complet : <span class="control" id="-dhawba_229">Composant -&gt; Service -&gt; HttpClient -&gt; API -&gt; HttpClient -&gt; Service -&gt; Composant</span></p><p id="-dhawba_225">C'est la base de toute application connect&eacute;e. Dans la partie &quot;Pour aller plus loin&quot; et dans les modules suivants, nous allons explorer la puissance de RxJS avec ses op&eacute;rateurs (<code class="code" id="-dhawba_230">map</code>, <code class="code" id="-dhawba_231">filter</code>, <code class="code" id="-dhawba_232">switchMap</code>...) pour transformer et combiner ces flux de donn&eacute;es avant m&ecirc;me de s'y abonner, ce qui rendra notre code encore plus puissant et d&eacute;claratif.</p></section><div class="last-modified">10 août 2025</div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom"><a href="007-01-advanced-routing.html" class="navigation-links__prev">Module 7 : Pour aller plus loin - Routage Avanc&eacute;, S&eacute;curis&eacute; et Performant</a><a href="008-01-rxjs-operators.html" class="navigation-links__next">Module 8 : Pour aller plus loin - La Puissance des Op&eacute;rateurs RxJS</a></div></article><div id="disqus_thread"></div></div></section></main></div><script src="https://resources.jetbrains.com/writerside/apidoc/6.22.0-b776/app.js"></script></body></html>